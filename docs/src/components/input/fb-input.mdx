import { Canvas, Meta } from '@storybook/blocks';
import * as InputStories from './fb-input.stories';

<Meta of={InputStories} />

# Input

Enter data using either mouse or keyboard inputs.

> **WARNING**
> The input component is controlled, meaning it **always displays the Vue binding value**. Typically, you should handle the `input` event, and its handler
> should update the component's binding value or use `v-model`. Using `v-model` modifiers is not supported.

## Basic usage

<Canvas
	withToolbar={true}
	of={InputStories.BasicUsage}
/>

## Disabled

To disable the Input, simply set the `disabled` property to `true`. This will prevent users from interacting with the input field.

<Canvas
	withToolbar={true}
	of={InputStories.Disabled}
/>

## Clearable

You can make the Input clearable by setting the `clearable` property to `true`. This adds a clear icon to the input field, allowing users to easily
clear the input value with a click.

<Canvas
	withToolbar={true}
	of={InputStories.Clearable}
/>

## Formatter

You can customize the display value of the Input component using the `formatter` property. Additionally, you can define a `parser` function to parse
the user input value into the desired format. This combination allows you to control both the displayed value and the parsed value of the Input component.

<Canvas
	withToolbar={true}
	of={InputStories.Formatter}
/>

## Password Box

You can create a toggle-able password Input by using the `show-password` property. When this property is set to `true`, the Input will display the password
in plain text, allowing users to view the entered text.

<Canvas
	withToolbar={true}
	of={InputStories.Password}
/>

## Input With Icon

To indicate the input type with an icon, you can utilize the `prefix-icon` and `suffix-icon` properties. Additionally, you can use the `prefix` and `suffix`
named slots to achieve the same effect.

<Canvas
	withToolbar={true}
	of={InputStories.WithIcon}
/>

## Textarea

To enable users to input multiple lines of text, you can set the `type` attribute to "textarea" and control the height using the `rows` property. This makes
the input resizable for entering larger amounts of text.

<Canvas
	withToolbar={true}
	of={InputStories.Textarea}
/>

## Autosize Textarea

When using a textarea type of Input, you can set the `autosize` property to automatically adjust the height based on the content. You can provide an options
object to `autosize` to specify the minimum and maximum number of lines the textarea can automatically adjust to.

<Canvas
	withToolbar={true}
	of={InputStories.AutosizeTextarea}
/>

## Mixed Input

You can use slots to distribute elements that you want to prepend or append to the Input component.

<Canvas
	withToolbar={true}
	of={InputStories.Mixed}
/>

## Sizes

You can use the `size` property to adjust the size of the Input component. It supports three options: `default`, `large`, and `small`.

<Canvas
	withToolbar={true}
	of={InputStories.Sizes}
/>

## Limit Length

The `maxlength` and `minlength` properties of the input allow you to set limits on the number of characters a user can input. When `maxlength` is set
for a text or textarea type of Input, it restricts the length of the input value. Additionally, you can display the word count by setting the `show-word-limit`
property to true. The "number of characters" is measured using JavaScript string length.

<Canvas
	withToolbar={true}
	of={InputStories.LimitLength}
/>

---

## Input API

<div style={{ marginTop: '30px' }}>

    ### Attributes

    | Name                  | Description                                                                                                                            | Type                                                                                                                                                                                                              | Default |
    | --------------------- | -------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- |
    | type                  | type of input                                                                                                                          | `text` \| `textarea` \| `password` \| `button` \| `checkbox` \| `file` \| `number` \| `radio` ... [native input types](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Form_%3Cinput%3E_types)    | `text`  |
    | model-value / v-model | binding value                                                                                                                          | `string` \| `number`                                                                                                                                                                                              | —       |
    | maxlength             | same as `maxlength` in native input                                                                                                    | `string` \| `number`                                                                                                                                                                                              | —       |
    | minlength             | same as `minlength` in native input                                                                                                    | `string` \| `number`                                                                                                                                                                                              | —       |
    | show-word-limit       | whether show word count, only works when `type` is `text` or `textarea`                                                                | `boolean`                                                                                                                                                                                                         | false   |
    | placeholder           | placeholder of Input                                                                                                                   | `string`                                                                                                                                                                                                          | —       |
    | clearable             | whether to show clear button, only works when `type` is not `textarea`                                                                 | `boolean`                                                                                                                                                                                                         | false   |
    | formatter             | specifies the format of the value presented input. (only works when `type` is `text`)                                                   | `(value: string \| number) => string`                                                                                                                                                                             | —       |
    | parser                | specifies the value extracted from formatter input. (only works when `type` is `text`)                                                  | `(value: string) => string`                                                                                                                                                                                       | —       |
    | show-password         | whether to show toggleable password input                                                                                              | `boolean`                                                                                                                                                                                                         | false   |
    | disabled              | whether Input is disabled                                                                                                              | `boolean`                                                                                                                                                                                                         | false   |
    | size                  | size of Input, works when `type` is not `textarea`                                                                                     | `large` \| `default` \| `small`                                                                                                                                                                                   | —       |
    | prefix-icon           | prefix icon component                                                                                                                  | `string` \| `Component`                                                                                                                                                                                           | —       |
    | suffix-icon           | suffix icon component                                                                                                                  | `string` \| `Component`                                                                                                                                                                                           | —       |
    | rows                  | number of rows of textarea, only works when `type` is `textarea`                                                                       | `number`                                                                                                                                                                                                          | 2       |
    | autosize              | whether textarea has an adaptive height, only works when `type` is `textarea`. Can accept an object, e.g. `{ minRows: 2, maxRows: 6 }` | `boolean` \| `{ minRows?: number, maxRows?: number }`                                                                                                                                                             | false   |
    | autocomplete          | same as `autocomplete` in native input                                                                                                 | `string`                                                                                                                                                                                                          | —       |
    | name                  | same as `name` in native input                                                                                                         | `string`                                                                                                                                                                                                          | —       |
    | readonly              | same as `readonly` in native input                                                                                                     | `boolean`                                                                                                                                                                                                         | false   |
    | max                   | same as `max` in native input                                                                                                          | —                                                                                                                                                                                                                 | —       |
    | min                   | same as `min` in native input                                                                                                          | —                                                                                                                                                                                                                 | —       |
    | step                  | same as `step` in native input                                                                                                         | —                                                                                                                                                                                                                 | —       |
    | resize                | control the resizability                                                                                                               | `none` \| `both` \| `horizontal` \| `vertical`                                                                                                                                                                    | —       |
    | autofocus             | same as `autofocus` in native input                                                                                                    | `boolean`                                                                                                                                                                                                         | false   |
    | form                  | same as `form` in native input                                                                                                         | `string`                                                                                                                                                                                                          | —       |
    | label `a11y`          | same as `aria-label` in native input                                                                                                   | `string`                                                                                                                                                                                                          | —       |
    | tabindex              | input tabindex                                                                                                                         | `string` \| `number`                                                                                                                                                                                              | —       |
    | validate-event        | whether to trigger form validation                                                                                                     | `boolean`                                                                                                                                                                                                         | true    |
    | input-style           | the style of the input element or textarea element                                                                                     | `string` \| `CSSProperties` \| `CSSProperties[]` \| `string[]`                                                                                                                                                    | —       |

    ### Events

    | Name   | Description                                                                                           | Type                                |
    | ------ | ----------------------------------------------------------------------------------------------------- | ----------------------------------- |
    | blur   | triggers when Input blurs                                                                             | `(event: FocusEvent) => void`       |
    | focus  | triggers when Input focuses                                                                           | `(event: FocusEvent) => void`       |
    | change | triggers when the input box loses focus or the user presses Enter, only if the modelValue has changed | `(value: string \| number) => void` |
    | input  | triggers when the Input value change                                                                  | `(value: string \| number) => void` |
    | clear  | triggers when the Input is cleared by clicking the clear button                                       | `() => void`                        |

    ### Slots

    | Name    | Description                                                               |
    | ------- | ------------------------------------------------------------------------- |
    | prefix  | content as Input prefix, only works when `type` is not 'textarea'         |
    | suffix  | content as Input suffix, only works when `type` is not 'textarea'         |
    | prepend | content to prepend before Input, only works when `type` is not 'textarea' |
    | append  | content to append after Input, only works when `type` is not 'textarea'   |

    ### Exposes

    | Name           | Description                      | Type                                           |
    | -------------- | -------------------------------- | ---------------------------------------------- |
    | blur           | blur the input element           | `() => void`                                   |
    | clear          | clear input value                | `() => void`                                   |
    | focus          | focus the input element          | `() => void`                                   |
    | input          | HTML input element               | `Ref<HTMLInputElement>`                        |
    | ref            | HTML element, input or textarea  | `Ref<HTMLInputElement \| HTMLTextAreaElement>` |
    | resizeTextarea | resize textarea                  | `() => void`                                   |
    | select         | select the text in input element | `() => void`                                   |
    | textarea       | HTML textarea element            | `Ref<HTMLTextAreaElement>`                     |
    | textareaStyle  | style of textarea                | `Ref<StyleValue>`                              |

</div>
